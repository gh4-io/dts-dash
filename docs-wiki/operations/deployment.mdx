---
title: Deployment
description: How to deploy the CVG Dashboard
---

# Deployment

## Local Deployment (Primary)

The dashboard is designed as a local-first application. No cloud infrastructure required.

### Build and Start

```bash
npm run build
npm run start
```

The server runs on `http://localhost:3000` by default.

### First-Time Setup

1. Install dependencies: `npm install`
2. Create environment file: `cp docker/.env.prod.example .env.prod`
3. Generate secret: `npm run generate-secret` — paste into `.env.prod`
4. Create config: `cp server.config.dev.yml server.config.yml`
5. Build: `npm run build`
6. Start: `npm run start`

The database **auto-bootstraps on first start**. Navigate to `/register` to create the first superadmin.

### Data Directory

```
data/
├── dashboard.db     # SQLite database (auto-created on first start)
├── dashboard.db-shm # SQLite shared memory (runtime)
├── dashboard.db-wal # SQLite write-ahead log (runtime)
├── seed/            # Reference data for seeding
├── backups/         # Timestamped backups
└── exports/         # Timestamped exports
```

Back up `dashboard.db` regularly. See [Backup](/docs/operations/backup) for procedures.

## Docker Deployment

See `docker/README.md` for the full Docker guide, including compose examples, volume setup, and health checks.

```bash
cp docker/.env.prod.example .env.prod
# Edit .env.prod — set AUTH_SECRET
cp server.config.dev.yml server.config.yml

docker compose -f docker/docker-compose.prod.yml build
docker compose -f docker/docker-compose.prod.yml up -d
```

## Production Configuration

### Environment Variables

Only secrets and deployment-specific values are env vars. Application settings live in `server.config.yml`.

```env
AUTH_SECRET=<generate-with-npm-run-generate-secret>
DATABASE_PATH=/app/data/dashboard.db
NODE_ENV=production
```

See [Configuration](/docs/getting-started/configuration) for the full variable reference.

### Process Manager

For bare-metal production, use a process manager:

```bash
# Using PM2
npm install -g pm2
pm2 start npm --name "cvg-dashboard" -- run start
pm2 save
pm2 startup
```

### Reverse Proxy

If exposing to a network, place behind a reverse proxy (Nginx, Caddy, Cloudflare Tunnel):

```nginx
server {
    listen 80;
    server_name dashboard.local;

    location / {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

If the proxy rewrites the `Host` header, set `app.baseUrl` in `server.config.yml` or `BASE_URL` env var.

### Background Tasks

The application includes an in-process cron scheduler. No external crontab is needed — built-in tasks (like cleanup) run automatically. Custom tasks can be added via `server.config.yml`. See [Scheduled Tasks](/docs/operations/scheduled-tasks) for details.

### Security Notes

- Generate a unique `AUTH_SECRET` for production (never reuse dev secrets)
- Set `logging.level: info` and `features.enableSeedEndpoint: false` in `server.config.yml`
- Never set `INITIAL_ADMIN_*` env vars in production
- Consider adding rate limiting if exposed to network
- Back up `data/dashboard.db` regularly
