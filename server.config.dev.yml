# Development Server Configuration
# This file is tracked in git as a template
# Production instances use server.config.yml (gitignored)

# ─── Application ─────────────────────────────────────────────────────────────
app:
  # Site title shown in browser tab, sidebar, login page, and nav
  # Default: "Dashboard"
  title: "CVG Dashboard"

  # Base URL for auth redirects (login/logout callbacks)
  # Required when behind a reverse proxy that overwrites the Host header (e.g. Cloudflare Tunnel)
  # Leave unset if your proxy forwards the original Host header correctly
  # baseUrl: "https://example.com"

# ─── Logging ──────────────────────────────────────────────────────────────────
logging:
  # Server-side pino log level
  # Values: trace | debug | info | warn | error | fatal
  # Development default: debug | Production recommended: info
  level: "debug"

# ─── Features ─────────────────────────────────────────────────────────────────
features:
  # Enable the /api/seed endpoint for programmatic seeding
  # ⚠️  Always false in production
  enableSeedEndpoint: false

  # Enable the in-app cron scheduler
  # Set to false to disable all scheduled background tasks
  cronEnabled: true

# ─── Timeline Defaults ────────────────────────────────────────────────────────
timeline:
  # Days before today the flight board starts (supports fractions: -0.5 = 12 hours ago)
  startOffset: -0.5

  # Default number of days the window spans from startOffset
  # endOffset is derived: startOffset + defaultDays (e.g. -0.5 + 3 = 2.5)
  # To override: set BOTH startOffset AND endOffset explicitly — defaultDays is then ignored
  defaultDays: 3

  # Explicit end override — uncomment to pin end independently of defaultDays
  # endOffset: 7

  # Default zoom level: "6h" | "12h" | "1d" | "3d" | "1w" | "all"
  defaultZoom: "3d"

  # Start flight board in compact mode by default
  defaultCompact: false

  # Default timezone: "UTC" | "America/New_York" (IANA string)
  defaultTimezone: "America/New_York"

# ─── Password Security ──────────────────────────────────────────────────────
passwordSecurity:
  # Minimum password length (8-128 characters)
  # Development default: 8 for easier testing
  minLength: 8

  # Maximum password length (8-128 characters)
  maxLength: 128

  # Character requirements (boolean)
  requireUppercase: false
  requireLowercase: false
  requireDigits: false
  requireSpecialChars: false

  # Common password prevention (boolean)
  # When true, blocks passwords from the blocklist
  preventCommon: true

  # Minimum entropy score (0-100)
  # 0 = disabled, 30-50 = medium, 70+ = high security
  # Development default: 30 (lower threshold for testing)
  minEntropy: 30

# ─── Cron Job Overrides ─────────────────────────────────────────────────────
# Override built-in job settings or define custom jobs.
# Built-in jobs: only override the fields you want to change.
# Custom jobs: must include script + schedule at minimum.
#
# cron:
#   jobs:
#     # Override built-in job (only specify fields to change)
#     cleanup-canceled:
#       schedule: "0 */12 * * *"     # every 12h instead of default 6h
#       options:
#         graceHours: 12
#
#     # Custom job (must include script + schedule)
#     nightly-backup:
#       name: "Nightly DB Backup"
#       description: "Runs a custom backup script at 3 AM"
#       script: "scripts/cron/nightly-backup.ts"
#       schedule: "0 3 * * *"
#       enabled: true
#       options:
#         keepDays: 30
